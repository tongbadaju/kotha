<section class="heading flex flex-col sm:flex-row sm:items-center justify-between pb-3 mx-4 sm:mx-6 lg:mx-40 mt-10 border-b border-neutral-300">
  
  <!-- Left: Breadcrumb + Heading -->
  <div class="flex-1">
    <!-- Breadcrumb -->
    <ol class="flex flex-wrap items-center text-sm whitespace-nowrap">
      <li class="inline-flex items-center">
        <a class="flex items-center text-gray-500 hover:text-[var(--color-primary)] focus:outline-hidden focus:text-[var(--color-primary)]" routerLink="">
          Home
        </a>
        <svg class="shrink-0 mx-2 size-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="m9 18 6-6-6-6"></path>
        </svg>
      </li>
      <li class="inline-flex items-center font-semibold text-gray-800 truncate" aria-current="page">
        Properties
      </li>
    </ol>

    <h1 class="text-xl sm:text-2xl lg:text-3xl font-semibold text-gray-800 mt-4">
      Available Properties
    </h1>
  </div>

  <!-- Right: Filter & Sort Buttons -->
  <div class="flex gap-2 mt-4 sm:mt-0">
    <button class="flex items-center gap-1 px-3 py-1 bg-[var(--color-secondary)] text-gray-800 rounded-md hover:bg-gray-200 transition">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        viewBox="0 0 24 24">
        <path d="M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2l-7 7v6l-2 1v-7L3 6V4z"></path>
      </svg>
      Filter
    </button>

    <button class="flex items-center gap-1 px-3 py-1 bg-[var(--color-secondary)] text-gray-800 rounded-md hover:bg-gray-200 transition">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        viewBox="0 0 24 24">
        <path d="M3 6h18M6 12h12M10 18h4"></path>
      </svg>
      Sort
    </button>
  </div>

</section>


<!-- Property Cards -->
<section class="flex flex-col items-center py-10 px-4 sm:px-6 lg:px-40">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10 w-full">
    <div *ngFor="let property of visibleProperties" [routerLink]="['/property/', property.id]"
      class="bg-white rounded-xl shadow-md hover:shadow-lg transition duration-300 transform hover:scale-[1.02] overflow-hidden flex flex-col">
      
      <!-- Image -->
      <img 
        [src]="property.images && property.images.length > 0 ? property.images[0].image : 'assets/images/thumbnails/kotha_logo.png'" 
        alt="{{property.title}}" 
        class="w-full h-56 sm:h-64 lg:h-72 object-cover" />

      <!-- Card Content -->
      <div class="p-4 flex flex-col flex-grow">
        <h3 class="text-lg font-semibold text-gray-800 line-clamp-1">{{ property.title }}</h3>
        <div class="text-xs text-gray-500 flex items-center gap-1 mt-1">
          <i class="fa-solid fa-location-dot text-gray-400"></i>
          <span class="truncate">{{ property.address }}, {{ property.area }}</span>
        </div>
        <p class="mt-5 text-[var(--color-primary)] font-semibold">â‚¹ {{ property.price }} / month</p>
        <div class="mt-3">
          <span class="px-3 py-1 text-xs rounded-full font-medium"
            [ngClass]="{
              'bg-blue-100 text-blue-700': property.genderPreference === 'boys',
              'bg-pink-100 text-pink-700': property.genderPreference === 'girls',
              'bg-green-100 text-green-700': property.genderPreference === 'unisex'
            }">
            {{ property.genderPreference | titlecase }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- View More Button -->
  <div class="mt-10 transition flex flex-col items-center gap-3">
    <p class="text-sm text-gray-600">
      Showing <span class="font-semibold text-gray-800">{{ visibleProperties.length }}</span> of
      <span class="font-semibold text-gray-800">{{ allProperties.length }}</span> properties
    </p>

    <button type="button" 
      (click)="viewMore()" 
      [disabled]="visibleProperties.length >= allProperties.length" 
      class="flex items-center gap-1 px-3 py-1 bg-[var(--color-secondary)] text-gray-800 rounded-md hover:bg-gray-200 transition">
      <i class="fa fa-caret-down" aria-hidden="true"></i>        
      View More
    </button>
  </div>
</section>


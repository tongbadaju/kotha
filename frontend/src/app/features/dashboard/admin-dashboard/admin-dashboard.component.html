<div class="min-h-screen flex flex-col">

    <!-- Header -->
    <header
        class="flex items-center justify-between bg-neutral-50 border-b border-gray-200 h-10 px-3 md:px-6 z-40 sticky top-0"
    >
        <!-- Sidebar Toggle -->
        <button
        (click)="toggleSidebar()"
        class="p-2 text-gray-700 hover:text-gray-900 focus:outline-none z-50 cursor-pointer"
        >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>

        </button>

    </header>

    <!-- Global Backdrop -->
    <div
        *ngIf="sidebarOpen"
        (click)="toggleSidebar()"
        class="fixed inset-0 bg-black/50 z-40"
    ></div>

    <!-- Main Wrapper -->
    <div class="flex flex-1 relative">

        <!-- Sidebar -->
        <aside
        [ngClass]="sidebarOpen ? 'translate-x-0' : '-translate-x-full'"
        class="fixed inset-y-0 left-0 w-75 bg-[var(--color-secondary-elevated)] shadow-lg transform transition duration-300 ease-in-out z-50"
        >
            <!-- Header -->
            <header class="px-5 py-5 flex justify-between items-center gap-2">
                <a routerLink="/" class="flex items-baseline gap-2.5">
                    <img src="assets/kotha_logo.svg" alt="Logo" class="h-4 md:h-7 w-auto inline-block" />
                    <span class="text-xl md:text-2xl font-semibold text-[var(--color-primary)] leading-none">kotha</span>
                </a>

                <!-- Close Button (mobile) -->
                <button
                *ngIf="sidebarOpen"
                (click)="sidebarOpen = false"
                class="p-1.5 text-sm rounded-full text-gray-600 hover:bg-neutral-200"
                aria-label="Close sidebar"
                >
                <i class="fas fa-times fa-lg"></i>
                </button>
            </header>

            <hr class="text-gray-300"/>
            
            <div class="px-5 py-3 flex bg-white items-center gap-2.5 text-gray-800 rounded-lg">
                <div
                    class="w-9 h-9 bg-[var(--color-primary)] rounded-full flex items-center justify-center">
                    <span class="text-sm font-semibold text-white">
                        {{ initials }}
                    </span>
                </div>

                <p class="font-medium">{{ currentUser?.name }}</p>
            </div>

            <hr class="text-gray-300"/>

            <nav class="h-full overflow-y-auto px-2 pt-2">
                <ul class="space-y-1">
                   
                    <li>
                        <a
                        routerLink="/dashboard/admin/home"
                        routerLinkActive="bg-gray-300 font-semibold"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"
                        >
                        <i class="fas fa-home fa-fw"></i>
                        <span>Dashboard</span>
                        </a>
                    </li>

                    <li>
                        <a
                        href="#"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"
                        >
                        <i class="fas fa-user-circle fa-fw"></i>
                        <span>My Account</span>
                        </a>
                    </li>

                    <hr class="text-gray-300 mx-3"/>

                    <li>
                        <a
                        href="/dashboard/admin/users"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"
                        >
                        <i class="fas fa-users fa-fw"></i>
                        <span>Users</span>
                        </a>
                    </li>

                    <li>
                        <a
                        href="/dashboard/admin/users"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"
                        >
                        <i class="fas fa-briefcase fa-fw"></i>
                        <span>Employees</span>
                        </a>
                    </li>

                    <li>
                        <a
                        href="/dashboard/admin/properties"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"
                        >
                        <i class="fas fa-home fa-fw"></i>
                        <span>Properties</span>
                        </a>
                    </li>


                    <hr class="text-gray-300 mx-3"/>

                    <li>
                        <a
                        (click)="logout()"
                        class="flex items-center gap-3 py-2 px-2.5 text-sm text-gray-800 rounded-lg hover:bg-gray-200"                        >
                        <i class="fa fa-power-off" aria-hidden="true"></i>
                        <span>Logout</span>
                        </a>
                    </li>
                    
                </ul>
            </nav>
        </aside>


        <!-- 3. Main Content -->
        <main class="flex-1 overflow-auto  md:p-5 lg:p-8">
            <router-outlet/>
        </main>

    </div>
</div>
